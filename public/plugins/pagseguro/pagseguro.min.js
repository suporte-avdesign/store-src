!function(e){e(".btn-payment-billet").click(function(){return setSessionBilletId(),!1}),setSessionBilletId=function(){var t=e("#form-pagseguro").serialize(),o=_pagSeguroSettings.btn_billet,a=_pagSeguroSettings.class_billet;e.ajax({url:_pagSeguroSettings.ajax_transparente,method:"POST",data:t,beforeSend:startPreloaderPS(a)}).done(function(e){console.log(e),PagSeguroDirectPayment.setSessionId(e),paymentBillet(o,a)}).fail(function(){console.log(_pagSeguroSettings.text_error),stopPreloaderPS(o,a)}).always(function(){})},paymentBillet=function(t,o){var a=PagSeguroDirectPayment.getSenderHash();e("#senderHash").val(a);var n=e("#form-pagseguro").serialize();e.ajax({url:_pagSeguroSettings.ajax_billet,method:"POST",data:n}).done(function(e){e.success&&(window.location=e.redirect)}).fail(function(){console.log(_pagSeguroSettings.text_error),stopPreloaderPS(t,o)}).always(function(){stopPreloaderPS(t,o)})},startPreloaderPS=function(t){e(t).attr("disabled",!0).addClass(_pagSeguroSettings.class_loading).text(_pagSeguroSettings.text_loading)},stopPreloaderPS=function(t,o){e(o).attr("disabled",!1).removeClass(_pagSeguroSettings.class_loading).text(t)},getPaymentMethods=function(){startPreloaderPS(),PagSeguroDirectPayment.getPaymentMethods({success:function(t){console.log(t),0==t.error&&e.each(t.paymentMethods,function(t,o){e(".payment-methods").append(t+"<br>")})},error:function(e){console.log(e),stopPreloaderPS()},complete:function(e){console.log(e)}})}}(window.jQuery);
